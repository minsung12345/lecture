<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>성적 팝업</title>
    <script>
      window.onload = function () {
        console.log(location.href);
        let url = location.href;
        console.log(typeof url); // string
        // url의 쿼리스트링에서 name, kor, eng, math 값 가져오기
        let queryStr = url.split("?")[1];
        console.log(queryStr);

        let queryStrArr = queryStr.split("&");
        console.log(queryStrArr);

        let name = "";
        let kor = 0;
        let eng = 0;
        let math = 0;

        queryStrArr.forEach(function (item) {
          console.log(item);
          if (item.split("=")[0] == "name") {
            name = decodeURIComponent(item.split("=")[1]);
          } else if (item.split("=")[0] == "kor") {
            kor = Number(item.split("=")[1]);
          } else if (item.split("=")[0] == "eng") {
            eng = Number(item.split("=")[1]);
          } else if (item.split("=")[0] == "math") {
            math = Number(item.split("=")[1]);
          }
        });
        console.log(name, kor, eng, math);

        // 테이블 셀에 값 넣기
        document.getElementById("userName").textContent = name;
        document.getElementById("korscore").textContent = kor;
        document.getElementById("engscore").textContent = eng;
        document.getElementById("mathscore").textContent = math;
      };
    </script>
  </head>
  <body>
    <h1>score V6.</h1>
    <table border="1">
      <tr>
        <th>이름</th>
        <th>국어</th>
        <th>영어</th>
        <th>수학</th>
      </tr>
      <tr>
        <td id="userName"></td>
        <td id="korscore"></td>
        <td id="engscore"></td>
        <td id="mathscore"></td>
      </tr>
    </table>
  </body>
</html>
